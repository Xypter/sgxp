---
import FrontPageLayout from "../layouts/FrontPageLayout.astro";
import ForgotPasswordForm from "../components/ForgotPasswordForm.svelte";
import { getUserFromRequest } from "../utils/auth";

// Check for authenticated user on the server before rendering the page.
const user = await getUserFromRequest(Astro.request);

// If already logged in, redirect to home
if (user) {
  return Astro.redirect('/');
}
---

<FrontPageLayout title="Forgot Password - SGXP">
    <ForgotPasswordForm client:load />
</FrontPageLayout>
