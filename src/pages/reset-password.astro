---
import FrontPageLayout from "../layouts/FrontPageLayout.astro";
import ResetPasswordForm from "../components/ResetPasswordForm.svelte";
import { getUserFromRequest } from "../utils/auth";

// Check for authenticated user on the server before rendering the page.
const user = await getUserFromRequest(Astro.request);

// If already logged in, redirect to home
if (user) {
  return Astro.redirect('/');
}
---

<FrontPageLayout title="Reset Password - SGXP">
    <ResetPasswordForm client:load />
</FrontPageLayout>
