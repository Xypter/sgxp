---
import FrontPageLayout from "../layouts/FrontPageLayout.astro";
import LoginForm from "../components/LoginForm.svelte";
import { getUserFromRequest } from "../utils/auth";

// Check for authenticated user on the server before rendering the page.
const user = await getUserFromRequest(Astro.request);

if (user) {
  return Astro.redirect('/');
}
---

<FrontPageLayout title="Login - SGXP">
    <LoginForm client:load />
</FrontPageLayout>